knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(fig.width=9, fig.height=5)
library("lfe")
library("stargazer")
library("dplyr")
mydata<-read.csv("cps_clean.csv")
reg1<-lm(inctot~edu,mydata[mydata$age>22,])
summary(reg1)
summary(reg1)
mydata$collgrad<-NA
mydata$collgrad[mydata$edu<16]<-0
mydata$collgrad[mydata$edu>=16]<-1
reg2<-lm(inctot~collgrad,mydata[mydata$edu>=12 & mydata$age>22,])
summary(reg2)
mydata$collgrad<-NA
mydata$collgrad[mydata$edu<16]<-0
mydata$collgrad[mydata$edu>=16]<-1
reg2<-lm(inctot~collgrad,mydata[mydata$edu>=12 & mydata$age>22,])
summary(reg2)
mydata <- mydata %>% rename(health = bad_health)
knitr::opts_chunk$set(echo = FALSE)
knitr::opts_chunk$set(fig.width=9, fig.height=5)
library("lfe")
library("stargazer")
library("dplyr")
mydata<-read.csv("cps_clean.csv")
reg1<-lm(inctot~edu,mydata[mydata$age>22,])
summary(reg1)
summary(reg1)
mydata$collgrad<-NA
mydata$collgrad[mydata$edu<16]<-0
mydata$collgrad[mydata$edu>=16]<-1
reg2<-lm(inctot~collgrad,mydata[mydata$edu>=12 & mydata$age>22,])
summary(reg2)
mydata$collgrad<-NA
mydata$collgrad[mydata$edu<16]<-0
mydata$collgrad[mydata$edu>=16]<-1
reg2<-lm(inctot~collgrad,mydata[mydata$edu>=12 & mydata$age>22,])
summary(reg2)
mydata <- mydata %>% rename(bad_health = health)
reghealth<-lm(inctot~bad_health,mydata)
summary(reghealth)
reghealth2<-lm(inctot~bad_health+age ,mydata)
summary(reghealth2)
reghealth3<-lm(inctot~bad_health+age+edu ,mydata)
summary(reghealth3)
stargazer(reghealth,reghealth2, reghealth3, type="latex", header=FALSE,
title="Income and bad health", omit.stat=c("f", "ser"))
library(MASS)
library(ggplot2)
set.seed(1999)
out <- as.data.frame(mvrnorm(1000, mu = c(0,0),
Sigma = matrix(c(1,0.5,0.5,1), ncol = 2),
empirical = TRUE))
cor(out)
plot(out)
out$error<-rnorm(1000, mean=0, sd=1)
B1<-5
B2<-7
out$Y<-out$V1*B1+out$V2*B2+out$error
sim1<-lm(Y~V1+V2, data=out)
sim2<-lm(Y~V1, data=out)
stargazer(sim1,sim2, type="latex", header=FALSE,
title="Omitted Variable Bias Simulation", omit.stat=c("f", "ser"))
out$adjY<-out$Y-B2*out$V2
sim3<-lm(adjY~V1, data=out)
stargazer(sim1,sim2,sim3, type="latex", header=FALSE,
title="Omitted Variable Bias Simulation 2", omit.stat=c("f", "ser"))
tinytex::tlmgr_install("caption")
tinytex::parse_install()
tinytex::install_tinytex(version = "latest")
